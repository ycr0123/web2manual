---
title: "Create and distribute a plugin marketplace"
titleKo: "플러그인 마켓플레이스 만들기 및 배포"
description: "Build and host plugin marketplaces to distribute Claude Code extensions across teams."
descriptionKo: "팀과 커뮤니티에 Claude Code 확장을 배포하기 위한 플러그인 마켓플레이스를 구축하고 호스팅합니다."
source: https://code.claude.com/docs/en/plugin-marketplaces.md
fetched: 2026-02-18
section: 6.5
---

# 플러그인 마켓플레이스 만들기 및 배포

> 팀과 커뮤니티에 Claude Code 확장을 배포하기 위한 플러그인 마켓플레이스를 구축하고 호스팅합니다.

**플러그인 마켓플레이스**는 다른 사람에게 플러그인을 배포할 수 있는 카탈로그입니다. 마켓플레이스는 중앙화된 검색, 버전 추적, 자동 업데이트, 여러 소스 유형 지원을 제공합니다.

## 개요

마켓플레이스 만들기 및 배포는 다음 단계로 이루어집니다:

1. **플러그인 만들기**: 명령어, 에이전트, 훅, MCP 서버, 또는 LSP 서버가 있는 플러그인을 하나 이상 빌드합니다.
2. **마켓플레이스 파일 만들기**: 플러그인 목록과 위치를 정의하는 `marketplace.json`을 작성합니다.
3. **마켓플레이스 호스팅**: GitHub, GitLab, 또는 다른 git 호스트에 푸시합니다.
4. **사용자와 공유**: 사용자들이 `/plugin marketplace add`로 마켓플레이스를 추가하고 개별 플러그인을 설치합니다.

## 연습: 로컬 마켓플레이스 만들기

**1단계: 디렉터리 구조 만들기**

```bash
mkdir -p my-marketplace/.claude-plugin
mkdir -p my-marketplace/plugins/review-plugin/.claude-plugin
mkdir -p my-marketplace/plugins/review-plugin/skills/review
```

**2단계: 스킬 만들기**

`my-marketplace/plugins/review-plugin/skills/review/SKILL.md` 만들기:

```markdown
---
description: Review code for bugs, security, and performance
disable-model-invocation: true
---

Review the code I've selected or the recent changes for:
- Potential bugs or edge cases
- Security concerns
- Performance issues
- Readability improvements

Be concise and actionable.
```

**3단계: 플러그인 매니페스트 만들기**

`my-marketplace/plugins/review-plugin/.claude-plugin/plugin.json` 만들기:

```json
{
  "name": "review-plugin",
  "description": "Adds a /review skill for quick code reviews",
  "version": "1.0.0"
}
```

**4단계: 마켓플레이스 파일 만들기**

`my-marketplace/.claude-plugin/marketplace.json` 만들기:

```json
{
  "name": "my-plugins",
  "owner": {
    "name": "Your Name"
  },
  "plugins": [
    {
      "name": "review-plugin",
      "source": "./plugins/review-plugin",
      "description": "Adds a /review skill for quick code reviews"
    }
  ]
}
```

**5단계: 추가 및 설치**

```shell
/plugin marketplace add ./my-marketplace
/plugin install review-plugin@my-plugins
```

**6단계: 사용해 보기**

```shell
/review
```

> **플러그인 설치 방법**: 사용자가 플러그인을 설치하면 Claude Code가 플러그인 디렉터리를 캐시 위치에 복사합니다. 즉, 플러그인은 `../shared-utils`와 같은 경로를 사용하여 디렉터리 외부의 파일을 참조할 수 없습니다.

## 마켓플레이스 파일 만들기

저장소 루트에 `.claude-plugin/marketplace.json`을 만드세요. 이 파일은 마켓플레이스 이름, 소유자 정보, 소스가 있는 플러그인 목록을 정의합니다.

```json
{
  "name": "company-tools",
  "owner": {
    "name": "DevTools Team",
    "email": "devtools@example.com"
  },
  "plugins": [
    {
      "name": "code-formatter",
      "source": "./plugins/formatter",
      "description": "Automatic code formatting on save",
      "version": "2.1.0",
      "author": {
        "name": "DevTools Team"
      }
    },
    {
      "name": "deployment-tools",
      "source": {
        "source": "github",
        "repo": "company/deploy-plugin"
      },
      "description": "Deployment automation tools"
    }
  ]
}
```

## 마켓플레이스 스키마

### 필수 필드

| 필드 | 유형 | 설명 | 예시 |
| :--- | :--- | :--- | :--- |
| `name` | 문자열 | 마켓플레이스 식별자 (케밥 케이스, 공백 없음). 사용자가 플러그인 설치 시 표시됩니다. | `"acme-tools"` |
| `owner` | 객체 | 마켓플레이스 관리자 정보 | |
| `plugins` | 배열 | 사용 가능한 플러그인 목록 | 아래 참조 |

> **예약된 이름**: 다음 마켓플레이스 이름은 공식 Anthropic 용도로 예약되어 있습니다: `claude-code-marketplace`, `claude-code-plugins`, `claude-plugins-official`, `anthropic-marketplace`, `anthropic-plugins`, `agent-skills`, `life-sciences`.

### 소유자 필드

| 필드 | 유형 | 필수 | 설명 |
| :--- | :--- | :--- | :--- |
| `name` | 문자열 | 예 | 관리자 또는 팀 이름 |
| `email` | 문자열 | 아니오 | 관리자 연락처 이메일 |

### 선택적 메타데이터

| 필드 | 유형 | 설명 |
| :--- | :--- | :--- |
| `metadata.description` | 문자열 | 마켓플레이스에 대한 간략한 설명 |
| `metadata.version` | 문자열 | 마켓플레이스 버전 |
| `metadata.pluginRoot` | 문자열 | 상대 플러그인 소스 경로에 앞붙이는 기본 디렉터리 |

## 플러그인 항목

### 필수 필드

| 필드 | 유형 | 설명 |
| :--- | :--- | :--- |
| `name` | 문자열 | 플러그인 식별자 (케밥 케이스, 공백 없음) |
| `source` | 문자열\|객체 | 플러그인을 가져올 위치 |

### 선택적 플러그인 필드

| 필드 | 유형 | 설명 |
| :--- | :--- | :--- |
| `description` | 문자열 | 플러그인에 대한 간략한 설명 |
| `version` | 문자열 | 플러그인 버전 |
| `author` | 객체 | 플러그인 저자 정보 |
| `homepage` | 문자열 | 플러그인 홈페이지 또는 문서 URL |
| `repository` | 문자열 | 소스 코드 저장소 URL |
| `license` | 문자열 | SPDX 라이선스 식별자 |
| `keywords` | 배열 | 플러그인 검색 및 분류를 위한 태그 |
| `category` | 문자열 | 정리를 위한 플러그인 카테고리 |
| `tags` | 배열 | 검색 가능성을 위한 태그 |
| `strict` | 불리언 | `plugin.json`이 컴포넌트 정의의 권위인지 여부 제어 (기본값: true) |

## 플러그인 소스

### 상대 경로

```json
{
  "name": "my-plugin",
  "source": "./plugins/my-plugin"
}
```

> 상대 경로는 사용자가 Git을 통해 마켓플레이스를 추가할 때만 작동합니다. 사용자가 `marketplace.json` 파일의 직접 URL을 통해 마켓플레이스를 추가하면 상대 경로가 올바르게 해석되지 않습니다.

### GitHub 저장소

```json
{
  "name": "github-plugin",
  "source": {
    "source": "github",
    "repo": "owner/plugin-repo"
  }
}
```

특정 브랜치, 태그, 또는 커밋을 고정할 수 있습니다:

```json
{
  "name": "github-plugin",
  "source": {
    "source": "github",
    "repo": "owner/plugin-repo",
    "ref": "v2.0.0",
    "sha": "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0"
  }
}
```

| 필드 | 유형 | 설명 |
| :--- | :--- | :--- |
| `repo` | 문자열 | 필수. `owner/repo` 형식의 GitHub 저장소 |
| `ref` | 문자열 | 선택 사항. Git 브랜치 또는 태그 |
| `sha` | 문자열 | 선택 사항. 40자 전체 git 커밋 SHA |

### Git 저장소

```json
{
  "name": "git-plugin",
  "source": {
    "source": "url",
    "url": "https://gitlab.com/team/plugin.git"
  }
}
```

### 고급 플러그인 항목

```json
{
  "name": "enterprise-tools",
  "source": {
    "source": "github",
    "repo": "company/enterprise-plugin"
  },
  "description": "Enterprise workflow automation tools",
  "version": "2.1.0",
  "commands": [
    "./commands/core/",
    "./commands/enterprise/"
  ],
  "agents": ["./agents/security-reviewer.md"],
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/scripts/validate.sh"
          }
        ]
      }
    ]
  },
  "mcpServers": {
    "enterprise-db": {
      "command": "${CLAUDE_PLUGIN_ROOT}/servers/db-server",
      "args": ["--config", "${CLAUDE_PLUGIN_ROOT}/config.json"]
    }
  },
  "strict": false
}
```

### 엄격 모드

`strict` 필드는 `plugin.json`이 컴포넌트 정의의 권위인지 여부를 제어합니다.

| 값 | 동작 |
| :--- | :--- |
| `true` (기본값) | `plugin.json`이 권위입니다. 마켓플레이스 항목은 추가 컴포넌트를 보완할 수 있습니다. |
| `false` | 마켓플레이스 항목이 전체 정의입니다. |

## 마켓플레이스 호스팅 및 배포

### GitHub에 호스팅 (권장)

1. **저장소 만들기**: 마켓플레이스를 위한 새 저장소 설정
2. **마켓플레이스 파일 추가**: 플러그인 정의가 있는 `.claude-plugin/marketplace.json` 만들기
3. **팀과 공유**: 사용자들이 `/plugin marketplace add owner/repo`로 마켓플레이스를 추가합니다

### 다른 git 서비스에 호스팅

```shell
/plugin marketplace add https://gitlab.com/company/plugins.git
```

### 비공개 저장소

백그라운드 자동 업데이트를 위해 환경에 적절한 인증 토큰을 설정하세요:

| 제공자 | 환경 변수 | 비고 |
| :--- | :--- | :--- |
| GitHub | `GITHUB_TOKEN` 또는 `GH_TOKEN` | 개인 액세스 토큰 또는 GitHub App 토큰 |
| GitLab | `GITLAB_TOKEN` 또는 `GL_TOKEN` | 개인 액세스 토큰 또는 프로젝트 토큰 |
| Bitbucket | `BITBUCKET_TOKEN` | 앱 비밀번호 또는 저장소 액세스 토큰 |

```bash
export GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxx
```

### 배포 전 로컬에서 테스트

```shell
/plugin marketplace add ./my-local-marketplace
/plugin install test-plugin@my-local-marketplace
```

### 팀에 마켓플레이스 필수 지정

`.claude/settings.json`에 마켓플레이스를 추가하세요:

```json
{
  "extraKnownMarketplaces": {
    "company-tools": {
      "source": {
        "source": "github",
        "repo": "your-org/claude-plugins"
      }
    }
  }
}
```

기본으로 활성화할 플러그인을 지정할 수도 있습니다:

```json
{
  "enabledPlugins": {
    "code-formatter@company-tools": true,
    "deployment-tools@company-tools": true
  }
}
```

### 관리형 마켓플레이스 제한

관리 설정에서 `strictKnownMarketplaces`가 구성된 경우:

| 값 | 동작 |
| --- | --- |
| 정의되지 않음 (기본값) | 제한 없음. 사용자가 모든 마켓플레이스를 추가할 수 있음 |
| 빈 배열 `[]` | 완전한 잠금. 사용자가 새 마켓플레이스를 추가할 수 없음 |
| 소스 목록 | 사용자는 허용 목록과 정확히 일치하는 마켓플레이스만 추가할 수 있음 |

#### 일반적인 구성

모든 마켓플레이스 추가 비활성화:

```json
{
  "strictKnownMarketplaces": []
}
```

특정 마켓플레이스만 허용:

```json
{
  "strictKnownMarketplaces": [
    {
      "source": "github",
      "repo": "acme-corp/approved-plugins"
    },
    {
      "source": "url",
      "url": "https://plugins.example.com/marketplace.json"
    }
  ]
}
```

정규식 패턴 매칭을 사용하여 내부 git 서버의 모든 마켓플레이스 허용:

```json
{
  "strictKnownMarketplaces": [
    {
      "source": "hostPattern",
      "hostPattern": "^github\\.example\\.com$"
    }
  ]
}
```

### 버전 해석 및 릴리스 채널

> 가능하면 두 곳에 모두 버전을 설정하지 마세요. 플러그인 매니페스트가 항상 자동으로 우선하여 마켓플레이스 버전이 무시될 수 있습니다.

#### 릴리스 채널 설정

"stable"과 "latest" 릴리스 채널을 지원하려면:

```json
{
  "name": "stable-tools",
  "plugins": [
    {
      "name": "code-formatter",
      "source": {
        "source": "github",
        "repo": "acme-corp/code-formatter",
        "ref": "stable"
      }
    }
  ]
}
```

## 유효성 검사 및 테스트

마켓플레이스 JSON 구문을 유효성 검사하세요:

```bash
claude plugin validate .
```

또는 Claude Code 내에서:

```shell
/plugin validate .
```

## 문제 해결

### 마켓플레이스가 로드되지 않음

* 마켓플레이스 URL이 접근 가능한지 확인하세요
* 지정된 경로에 `.claude-plugin/marketplace.json`이 있는지 확인하세요
* `claude plugin validate`로 JSON 구문이 유효한지 확인하세요

### 마켓플레이스 유효성 검사 오류

| 오류 | 원인 | 해결 방법 |
| :--- | :--- | :--- |
| `File not found: .claude-plugin/marketplace.json` | 매니페스트 누락 | 필수 필드로 파일 만들기 |
| `Invalid JSON syntax: Unexpected token...` | JSON 구문 오류 | 누락된 쉼표, 추가 쉼표, 따옴표 없는 문자열 확인 |
| `Duplicate plugin name "x" found in marketplace` | 두 플러그인이 같은 이름 공유 | 각 플러그인에 고유한 `name` 값 지정 |
| `plugins[0].source: Path traversal not allowed` | 소스 경로에 `..` 포함 | `..` 없이 마켓플레이스 루트에 상대적인 경로 사용 |

**경고** (비차단):

* `Marketplace has no plugins defined`: `plugins` 배열에 플러그인 추가
* `No marketplace description provided`: `metadata.description` 추가
* `Plugin "x" uses npm source which is not yet fully implemented`: 대신 `github` 또는 로컬 경로 소스 사용

### URL 기반 마켓플레이스에서 상대 경로 플러그인 실패

**원인**: URL 기반 마켓플레이스는 `marketplace.json` 파일 자체만 다운로드합니다. 상대 경로는 다운로드되지 않은 원격 서버의 파일을 참조합니다.

**해결 방법**:

* **외부 소스 사용**: 상대 경로 대신 GitHub, npm, 또는 git URL 소스를 사용하도록 플러그인 항목 변경
* **Git 기반 마켓플레이스 사용**: Git 저장소에 마켓플레이스를 호스팅하고 git URL로 추가

## 참고 항목

* 빌드된 플러그인 검색 및 설치 - 기존 마켓플레이스에서 플러그인 설치
* 플러그인 - 자체 플러그인 만들기
* 플러그인 레퍼런스 - 완전한 기술 사양 및 스키마
* 플러그인 설정 - 플러그인 구성 옵션
* strictKnownMarketplaces 레퍼런스 - 관리형 마켓플레이스 제한
