---
title: "Plugins reference"
titleKo: "플러그인 레퍼런스"
description: "Complete technical reference for Claude Code plugin system, including schemas and CLI commands."
descriptionKo: "스키마, CLI 명령어를 포함한 Claude Code 플러그인 시스템의 완전한 기술 레퍼런스입니다."
source: https://code.claude.com/docs/en/plugins-reference.md
fetched: 2026-02-18
section: 6.3
---

# 플러그인 레퍼런스

> 스키마, CLI 명령어, 컴포넌트 사양을 포함한 Claude Code 플러그인 시스템의 완전한 기술 레퍼런스입니다.

이 레퍼런스는 컴포넌트 스키마, CLI 명령어, 개발 도구를 포함한 Claude Code 플러그인 시스템의 완전한 기술 사양을 제공합니다.

**플러그인**은 커스텀 기능으로 Claude Code를 확장하는 자체 포함된 컴포넌트 디렉터리입니다. 플러그인 컴포넌트에는 스킬, 에이전트, 훅, MCP 서버, LSP 서버가 포함됩니다.

## 플러그인 컴포넌트 레퍼런스

### 스킬

플러그인은 사용자나 Claude가 호출할 수 있는 `/name` 단축키를 만들어 Claude Code에 스킬을 추가합니다.

**위치**: 플러그인 루트의 `skills/` 또는 `commands/` 디렉터리

**파일 형식**: 스킬은 `SKILL.md`가 있는 디렉터리이고, 명령어는 단순한 마크다운 파일입니다

**스킬 구조**:

```
skills/
├── pdf-processor/
│   ├── SKILL.md
│   ├── reference.md (선택 사항)
│   └── scripts/ (선택 사항)
└── code-reviewer/
    └── SKILL.md
```

**통합 동작**:

* 스킬과 명령어는 플러그인이 설치될 때 자동으로 검색됩니다
* Claude는 태스크 컨텍스트에 따라 자동으로 호출할 수 있습니다
* 스킬은 SKILL.md와 함께 지원 파일을 포함할 수 있습니다

### 에이전트

플러그인은 특정 태스크를 위한 전문 서브에이전트를 제공할 수 있습니다.

**위치**: 플러그인 루트의 `agents/` 디렉터리

**파일 형식**: 에이전트 기능을 설명하는 마크다운 파일

**에이전트 구조**:

```markdown
---
name: agent-name
description: What this agent specializes in and when Claude should invoke it
---

Detailed system prompt for the agent describing its role, expertise, and behavior.
```

**통합 포인트**:

* 에이전트는 `/agents` 인터페이스에 나타납니다
* Claude는 태스크 컨텍스트에 따라 에이전트를 자동으로 호출할 수 있습니다
* 플러그인 에이전트는 내장 Claude 에이전트와 함께 작동합니다

### 훅

플러그인은 Claude Code 이벤트에 자동으로 응답하는 이벤트 핸들러를 제공할 수 있습니다.

**위치**: 플러그인 루트의 `hooks/hooks.json` 또는 plugin.json에 인라인으로

**형식**: 이벤트 매처와 액션이 있는 JSON 구성

**훅 구성**:

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/scripts/format-code.sh"
          }
        ]
      }
    ]
  }
}
```

**사용 가능한 이벤트**:

* `PreToolUse`: Claude가 도구를 사용하기 전
* `PostToolUse`: Claude가 도구를 성공적으로 사용한 후
* `PostToolUseFailure`: Claude 도구 실행이 실패한 후
* `PermissionRequest`: 권한 대화상자가 표시될 때
* `UserPromptSubmit`: 사용자가 프롬프트를 제출할 때
* `Notification`: Claude Code가 알림을 보낼 때
* `Stop`: Claude가 멈추려 할 때
* `SubagentStart`: 서브에이전트가 시작될 때
* `SubagentStop`: 서브에이전트가 멈추려 할 때
* `SessionStart`: 세션 시작 시
* `SessionEnd`: 세션 종료 시
* `TeammateIdle`: 에이전트 팀 팀원이 유휴 상태가 되려 할 때
* `TaskCompleted`: 태스크가 완료로 표시되려 할 때
* `PreCompact`: 대화 기록이 압축되기 전

**훅 유형**:

* `command`: 셸 명령어 또는 스크립트 실행
* `prompt`: LLM으로 프롬프트 평가 (컨텍스트에 `$ARGUMENTS` 플레이스홀더 사용)
* `agent`: 복잡한 검증 태스크를 위한 도구가 있는 에이전트 검증기 실행

### MCP 서버

플러그인은 Claude Code를 외부 도구 및 서비스와 연결하는 Model Context Protocol (MCP) 서버를 번들로 제공할 수 있습니다.

**위치**: 플러그인 루트의 `.mcp.json` 또는 plugin.json에 인라인으로

**MCP 서버 구성**:

```json
{
  "mcpServers": {
    "plugin-database": {
      "command": "${CLAUDE_PLUGIN_ROOT}/servers/db-server",
      "args": ["--config", "${CLAUDE_PLUGIN_ROOT}/config.json"],
      "env": {
        "DB_PATH": "${CLAUDE_PLUGIN_ROOT}/data"
      }
    },
    "plugin-api-client": {
      "command": "npx",
      "args": ["@company/mcp-server", "--plugin-mode"],
      "cwd": "${CLAUDE_PLUGIN_ROOT}"
    }
  }
}
```

**통합 동작**:

* 플러그인 MCP 서버는 플러그인이 활성화될 때 자동으로 시작됩니다
* 서버는 Claude의 툴킷에서 표준 MCP 도구로 나타납니다
* 플러그인 서버는 사용자 MCP 서버와 독립적으로 구성할 수 있습니다

### LSP 서버

플러그인은 Claude에게 실시간 코드 인텔리전스를 제공하는 Language Server Protocol (LSP) 서버를 제공할 수 있습니다.

LSP 통합은 다음을 제공합니다:

* **즉각적인 진단**: Claude가 각 편집 후 즉시 오류와 경고를 확인합니다
* **코드 탐색**: 정의로 이동, 참조 찾기, 호버 정보
* **언어 인식**: 코드 심볼에 대한 유형 정보 및 문서

**위치**: 플러그인 루트의 `.lsp.json` 또는 `plugin.json`에 인라인으로

**`.lsp.json` 파일 형식**:

```json
{
  "go": {
    "command": "gopls",
    "args": ["serve"],
    "extensionToLanguage": {
      ".go": "go"
    }
  }
}
```

**`plugin.json`에 인라인으로**:

```json
{
  "name": "my-plugin",
  "lspServers": {
    "go": {
      "command": "gopls",
      "args": ["serve"],
      "extensionToLanguage": {
        ".go": "go"
      }
    }
  }
}
```

**필수 필드:**

| 필드 | 설명 |
| :--- | :--- |
| `command` | 실행할 LSP 바이너리 (PATH에 있어야 함) |
| `extensionToLanguage` | 파일 확장자를 언어 식별자로 매핑 |

**선택적 필드:**

| 필드 | 설명 |
| :--- | :--- |
| `args` | LSP 서버의 명령줄 인수 |
| `transport` | 통신 전송: `stdio` (기본값) 또는 `socket` |
| `env` | 서버 시작 시 설정할 환경 변수 |
| `initializationOptions` | 초기화 중 서버에 전달되는 옵션 |
| `settings` | `workspace/didChangeConfiguration`을 통해 전달되는 설정 |
| `workspaceFolder` | 서버의 작업 공간 폴더 경로 |
| `startupTimeout` | 서버 시작 대기 최대 시간 (밀리초) |
| `shutdownTimeout` | 정상 종료 대기 최대 시간 (밀리초) |
| `restartOnCrash` | 서버 충돌 시 자동 재시작 여부 |
| `maxRestarts` | 포기하기 전 최대 재시작 횟수 |

> **언어 서버 바이너리는 별도로 설치해야 합니다.** LSP 플러그인은 Claude Code가 언어 서버에 연결하는 방법을 구성하지만 서버 자체는 포함하지 않습니다.

**사용 가능한 LSP 플러그인:**

| 플러그인 | 언어 서버 | 설치 명령어 |
| :--- | :--- | :--- |
| `pyright-lsp` | Pyright (Python) | `pip install pyright` 또는 `npm install -g pyright` |
| `typescript-lsp` | TypeScript Language Server | `npm install -g typescript-language-server typescript` |
| `rust-lsp` | rust-analyzer | rust-analyzer 설치 문서 참조 |

---

## 플러그인 설치 범위

플러그인을 설치할 때 플러그인을 사용할 수 있는 위치를 결정하는 **범위**를 선택합니다:

| 범위 | 설정 파일 | 활용 사례 |
| :--- | :--- | :--- |
| `user` | `~/.claude/settings.json` | 모든 프로젝트에서 사용 가능한 개인 플러그인 (기본값) |
| `project` | `.claude/settings.json` | 버전 관리를 통해 공유되는 팀 플러그인 |
| `local` | `.claude/settings.local.json` | 프로젝트별 플러그인, gitignore됨 |
| `managed` | `managed-settings.json` | 관리형 플러그인 (읽기 전용, 업데이트만 가능) |

---

## 플러그인 매니페스트 스키마

`.claude-plugin/plugin.json` 파일은 플러그인의 메타데이터와 구성을 정의합니다.

매니페스트는 선택 사항입니다. 생략하면 Claude Code가 기본 위치에서 컴포넌트를 자동으로 검색하고 디렉터리 이름에서 플러그인 이름을 추출합니다.

### 완전한 스키마

```json
{
  "name": "plugin-name",
  "version": "1.2.0",
  "description": "Brief plugin description",
  "author": {
    "name": "Author Name",
    "email": "author@example.com",
    "url": "https://github.com/author"
  },
  "homepage": "https://docs.example.com/plugin",
  "repository": "https://github.com/author/plugin",
  "license": "MIT",
  "keywords": ["keyword1", "keyword2"],
  "commands": ["./custom/commands/special.md"],
  "agents": "./custom/agents/",
  "skills": "./custom/skills/",
  "hooks": "./config/hooks.json",
  "mcpServers": "./mcp-config.json",
  "outputStyles": "./styles/",
  "lspServers": "./.lsp.json"
}
```

### 필수 필드

매니페스트를 포함하는 경우 `name`이 유일한 필수 필드입니다.

| 필드 | 유형 | 설명 | 예시 |
| :--- | :--- | :--- | :--- |
| `name` | 문자열 | 고유 식별자 (케밥 케이스, 공백 없음) | `"deployment-tools"` |

### 메타데이터 필드

| 필드 | 유형 | 설명 | 예시 |
| :--- | :--- | :--- | :--- |
| `version` | 문자열 | 시맨틱 버전 | `"2.1.0"` |
| `description` | 문자열 | 플러그인 목적에 대한 간략한 설명 | `"Deployment automation tools"` |
| `author` | 객체 | 저자 정보 | `{"name": "Dev Team", "email": "dev@company.com"}` |
| `homepage` | 문자열 | 문서 URL | `"https://docs.example.com"` |
| `repository` | 문자열 | 소스 코드 URL | `"https://github.com/user/plugin"` |
| `license` | 문자열 | 라이선스 식별자 | `"MIT"`, `"Apache-2.0"` |
| `keywords` | 배열 | 검색 태그 | `["deployment", "ci-cd"]` |

### 컴포넌트 경로 필드

| 필드 | 유형 | 설명 | 예시 |
| :--- | :--- | :--- | :--- |
| `commands` | 문자열\|배열 | 추가 명령어 파일/디렉터리 | `"./custom/cmd.md"` 또는 `["./cmd1.md"]` |
| `agents` | 문자열\|배열 | 추가 에이전트 파일 | `"./custom/agents/reviewer.md"` |
| `skills` | 문자열\|배열 | 추가 스킬 디렉터리 | `"./custom/skills/"` |
| `hooks` | 문자열\|배열\|객체 | 훅 설정 경로 또는 인라인 설정 | `"./my-extra-hooks.json"` |
| `mcpServers` | 문자열\|배열\|객체 | MCP 설정 경로 또는 인라인 설정 | `"./my-extra-mcp-config.json"` |
| `outputStyles` | 문자열\|배열 | 추가 출력 스타일 파일/디렉터리 | `"./styles/"` |
| `lspServers` | 문자열\|배열\|객체 | 코드 인텔리전스를 위한 LSP 설정 | `"./.lsp.json"` |

### 경로 동작 규칙

* `commands/`가 존재하면 커스텀 명령어 경로에 추가로 로드됩니다
* 모든 경로는 플러그인 루트에 상대적이어야 하며 `./`로 시작해야 합니다
* 커스텀 경로의 명령어는 동일한 명명 및 네임스페이싱 규칙을 사용합니다

### 환경 변수

**`${CLAUDE_PLUGIN_ROOT}`**: 플러그인 디렉터리의 절대 경로를 포함합니다. 설치 위치에 관계없이 올바른 경로를 보장하기 위해 훅, MCP 서버, 스크립트에서 사용하세요.

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${CLAUDE_PLUGIN_ROOT}/scripts/process.sh"
          }
        ]
      }
    ]
  }
}
```

---

## 플러그인 캐싱 및 파일 해석

보안 및 검증 목적으로 Claude Code는 마켓플레이스 플러그인을 제자리에서 사용하는 대신 사용자의 로컬 **플러그인 캐시**(`~/.claude/plugins/cache`)에 복사합니다.

### 경로 순회 제한

설치된 플러그인은 자체 디렉터리 외부의 파일을 참조할 수 없습니다. 플러그인 루트 외부로 이동하는 경로(예: `../shared-utils`)는 설치 후 작동하지 않습니다.

### 외부 의존성 작업

플러그인이 디렉터리 외부의 파일에 접근해야 하는 경우, 플러그인 디렉터리 내에 외부 파일에 대한 심볼릭 링크를 만들 수 있습니다. 심볼릭 링크는 복사 과정에서 유지됩니다.

---

## 플러그인 디렉터리 구조

### 표준 플러그인 레이아웃

```
enterprise-plugin/
├── .claude-plugin/           # 메타데이터 디렉터리 (선택 사항)
│   └── plugin.json             # 플러그인 매니페스트
├── commands/                 # 기본 명령어 위치
│   ├── status.md
│   └── logs.md
├── agents/                   # 기본 에이전트 위치
│   ├── security-reviewer.md
│   ├── performance-tester.md
│   └── compliance-checker.md
├── skills/                   # 에이전트 스킬
│   ├── code-reviewer/
│   │   └── SKILL.md
│   └── pdf-processor/
│       ├── SKILL.md
│       └── scripts/
├── hooks/                    # 훅 구성
│   ├── hooks.json           # 메인 훅 설정
│   └── security-hooks.json  # 추가 훅
├── .mcp.json                # MCP 서버 정의
├── .lsp.json                # LSP 서버 구성
├── scripts/                 # 훅 및 유틸리티 스크립트
│   ├── security-scan.sh
│   ├── format-code.py
│   └── deploy.js
├── LICENSE                  # 라이선스 파일
└── CHANGELOG.md             # 버전 기록
```

### 파일 위치 레퍼런스

| 컴포넌트 | 기본 위치 | 목적 |
| :--- | :--- | :--- |
| **매니페스트** | `.claude-plugin/plugin.json` | 플러그인 메타데이터 및 구성 (선택 사항) |
| **명령어** | `commands/` | 스킬 마크다운 파일 (레거시; 새 스킬에는 `skills/` 사용) |
| **에이전트** | `agents/` | 서브에이전트 마크다운 파일 |
| **스킬** | `skills/` | `<name>/SKILL.md` 구조의 스킬 |
| **훅** | `hooks/hooks.json` | 훅 구성 |
| **MCP 서버** | `.mcp.json` | MCP 서버 정의 |
| **LSP 서버** | `.lsp.json` | 언어 서버 구성 |

---

## CLI 명령어 레퍼런스

### plugin install

사용 가능한 마켓플레이스에서 플러그인을 설치합니다.

```bash
claude plugin install <plugin> [options]
```

**옵션:**

| 옵션 | 설명 | 기본값 |
| :--- | :--- | :--- |
| `-s, --scope <scope>` | 설치 범위: `user`, `project`, 또는 `local` | `user` |
| `-h, --help` | 명령어 도움말 표시 | |

**예시:**

```bash
# 사용자 범위에 설치 (기본값)
claude plugin install formatter@my-marketplace

# 프로젝트 범위에 설치 (팀과 공유)
claude plugin install formatter@my-marketplace --scope project

# 로컬 범위에 설치 (gitignore됨)
claude plugin install formatter@my-marketplace --scope local
```

### plugin uninstall

설치된 플러그인을 제거합니다.

```bash
claude plugin uninstall <plugin> [options]
```

**별칭:** `remove`, `rm`

### plugin enable

비활성화된 플러그인을 활성화합니다.

```bash
claude plugin enable <plugin> [options]
```

### plugin disable

제거하지 않고 플러그인을 비활성화합니다.

```bash
claude plugin disable <plugin> [options]
```

### plugin update

플러그인을 최신 버전으로 업데이트합니다.

```bash
claude plugin update <plugin> [options]
```

---

## 디버깅 및 개발 도구

### 디버깅 명령어

`claude --debug` (또는 TUI 내에서 `/debug`)를 사용하여 플러그인 로딩 세부 사항을 확인하세요.

### 일반적인 문제

| 문제 | 원인 | 해결 방법 |
| :--- | :--- | :--- |
| 플러그인이 로드되지 않음 | 잘못된 `plugin.json` | `claude plugin validate` 또는 `/plugin validate`로 JSON 구문 유효성 검사 |
| 명령어가 나타나지 않음 | 잘못된 디렉터리 구조 | `commands/`가 `.claude-plugin/` 안이 아닌 루트에 있는지 확인 |
| 훅이 실행되지 않음 | 스크립트가 실행 가능하지 않음 | `chmod +x script.sh` 실행 |
| MCP 서버가 실패함 | `${CLAUDE_PLUGIN_ROOT}` 누락 | 모든 플러그인 경로에 변수 사용 |
| 경로 오류 | 절대 경로 사용 | 모든 경로는 상대 경로여야 하며 `./`로 시작해야 함 |
| LSP `$PATH에서 실행 파일을 찾을 수 없음` | 언어 서버가 설치되지 않음 | 바이너리 설치 |

### 예시 오류 메시지

**매니페스트 유효성 검사 오류**:

* `Invalid JSON syntax: Unexpected token } in JSON at position 142`
* `Plugin has an invalid manifest file at .claude-plugin/plugin.json. Validation errors: name: Required`
* `Plugin has a corrupt manifest file at .claude-plugin/plugin.json. JSON parse error: ...`

**플러그인 로딩 오류**:

* `Warning: No commands found in plugin my-plugin custom directory: ./cmds.`
* `Plugin directory not found at path: ./plugins/my-plugin.`
* `Plugin my-plugin has conflicting manifests`

### 훅 문제 해결

**훅 스크립트가 실행되지 않는 경우**:

1. 스크립트가 실행 가능한지 확인: `chmod +x ./scripts/your-script.sh`
2. shebang 라인 확인: 첫 번째 줄이 `#!/bin/bash` 또는 `#!/usr/bin/env bash`여야 함
3. 경로가 `${CLAUDE_PLUGIN_ROOT}`를 사용하는지 확인
4. 스크립트를 수동으로 테스트

**예상 이벤트에서 훅이 트리거되지 않는 경우**:

1. 이벤트 이름이 올바른지 확인 (대소문자 구분): `postToolUse`가 아닌 `PostToolUse`
2. 매처 패턴이 도구와 일치하는지 확인
3. 훅 유형이 유효한지 확인: `command`, `prompt`, 또는 `agent`

### 디렉터리 구조 실수

**올바른 구조**: 컴포넌트는 `.claude-plugin/` 안이 아닌 플러그인 루트에 있어야 합니다. `.claude-plugin/`에는 `plugin.json`만 있어야 합니다.

```
my-plugin/
├── .claude-plugin/
│   └── plugin.json      ← 매니페스트만 여기에
├── commands/            ← 루트 레벨에
├── agents/              ← 루트 레벨에
└── hooks/               ← 루트 레벨에
```

---

## 배포 및 버저닝 레퍼런스

### 버전 관리

플러그인 릴리스에는 시맨틱 버저닝을 따르세요:

```json
{
  "name": "my-plugin",
  "version": "2.1.0"
}
```

**버전 형식**: `MAJOR.MINOR.PATCH`

* **MAJOR**: 호환되지 않는 변경 사항 (비호환 API 변경)
* **MINOR**: 새로운 기능 (하위 호환 추가)
* **PATCH**: 버그 수정 (하위 호환 수정)

**모범 사례**:

* 첫 번째 안정 릴리스는 `1.0.0`으로 시작하세요
* 변경 사항 배포 전에 `plugin.json`의 버전을 업데이트하세요
* `CHANGELOG.md` 파일에 변경 사항을 문서화하세요
* 테스트에는 `2.0.0-beta.1`과 같은 프리릴리스 버전을 사용하세요

> Claude Code는 버전을 사용하여 플러그인 업데이트 여부를 결정합니다. 플러그인 코드를 변경하지만 `plugin.json`의 버전을 업데이트하지 않으면 캐싱으로 인해 기존 사용자들이 변경 사항을 보지 못할 수 있습니다.

---

## 참고 항목

* [플러그인](/en/plugins) - 튜토리얼 및 실용적 사용법
* [플러그인 마켓플레이스](/en/plugin-marketplaces) - 마켓플레이스 만들기 및 관리
* [스킬](/en/skills) - 스킬 개발 세부 사항
* [서브에이전트](/en/sub-agents) - 에이전트 구성 및 기능
* [훅](/en/hooks) - 이벤트 처리 및 자동화
* [MCP](/en/mcp) - 외부 도구 통합
* [설정](/en/settings) - 플러그인에 대한 구성 옵션
