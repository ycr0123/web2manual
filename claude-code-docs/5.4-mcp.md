---
title: "Connect Claude Code to tools via MCP"
titleKo: "MCP로 Claude Code를 도구에 연결"
description: "Learn how to connect Claude Code to your tools with the Model Context Protocol."
descriptionKo: "Model Context Protocol로 Claude Code를 도구에 연결하는 방법을 알아봅니다."
source: https://code.claude.com/docs/en/mcp.md
fetched: 2026-02-18
section: 6.8
---

# MCP로 Claude Code를 도구에 연결

> Model Context Protocol로 Claude Code를 도구에 연결하는 방법을 알아봅니다.

Claude Code는 AI-도구 통합을 위한 오픈 소스 표준인 [Model Context Protocol (MCP)](https://modelcontextprotocol.io/introduction)을 통해 수백 가지 외부 도구 및 데이터 소스에 연결할 수 있습니다. MCP 서버는 Claude Code에게 도구, 데이터베이스, API에 대한 접근을 제공합니다.

## MCP로 할 수 있는 것

MCP 서버가 연결되면 Claude Code에게 다음을 요청할 수 있습니다:

* **이슈 트래커에서 기능 구현**: "JIRA 이슈 ENG-4521에 설명된 기능을 추가하고 GitHub에 PR을 만드세요."
* **모니터링 데이터 분석**: "Sentry와 Statsig에서 ENG-4521에 설명된 기능의 사용량을 확인하세요."
* **데이터베이스 쿼리**: "PostgreSQL 데이터베이스를 기반으로 ENG-4521 기능을 사용한 10명의 무작위 사용자의 이메일을 찾으세요."
* **디자인 통합**: "Slack에 게시된 새 Figma 디자인을 기반으로 표준 이메일 템플릿을 업데이트하세요"
* **워크플로우 자동화**: "이 10명의 사용자를 새 기능에 대한 피드백 세션에 초대하는 Gmail 초안을 만드세요."

## MCP 서버 설치

MCP 서버는 필요에 따라 세 가지 방법으로 구성할 수 있습니다:

### 옵션 1: 원격 HTTP 서버 추가

HTTP 서버는 원격 MCP 서버에 연결하는 데 권장되는 옵션입니다.

```bash
# 기본 구문
claude mcp add --transport http <name> <url>

# 실제 예시: Notion에 연결
claude mcp add --transport http notion https://mcp.notion.com/mcp

# Bearer 토큰이 있는 예시
claude mcp add --transport http secure-api https://api.example.com/mcp \
  --header "Authorization: Bearer your-token"
```

### 옵션 2: 원격 SSE 서버 추가

> SSE(Server-Sent Events) 전송은 더 이상 사용되지 않습니다. 가능한 경우 HTTP 서버를 사용하세요.

```bash
# 기본 구문
claude mcp add --transport sse <name> <url>

# 실제 예시: Asana에 연결
claude mcp add --transport sse asana https://mcp.asana.com/sse
```

### 옵션 3: 로컬 stdio 서버 추가

Stdio 서버는 머신에서 로컬 프로세스로 실행됩니다.

```bash
# 기본 구문
claude mcp add [options] <name> -- <command> [args...]

# 실제 예시: Airtable 서버 추가
claude mcp add --transport stdio --env AIRTABLE_API_KEY=YOUR_KEY airtable \
  -- npx -y airtable-mcp-server
```

> **중요: 옵션 순서** - 모든 옵션(`--transport`, `--env`, `--scope`, `--header`)은 서버 이름 **앞에** 있어야 합니다. `--` (이중 대시)는 서버 이름을 명령 및 인수와 구분합니다.

### 서버 관리

구성 후 다음 명령으로 MCP 서버를 관리할 수 있습니다:

```bash
# 모든 구성된 서버 나열
claude mcp list

# 특정 서버 세부 정보 가져오기
claude mcp get github

# 서버 제거
claude mcp remove github

# (Claude Code 내에서) 서버 상태 확인
/mcp
```

### 동적 도구 업데이트

Claude Code는 MCP `list_changed` 알림을 지원하여 MCP 서버가 연결을 끊고 다시 연결할 필요 없이 사용 가능한 도구, 프롬프트, 리소스를 동적으로 업데이트할 수 있습니다.

> **팁:**
> * `--scope` 플래그를 사용하여 구성이 저장되는 위치를 지정합니다:
>   * `local` (기본값): 현재 프로젝트에서만 사용 가능
>   * `project`: `.mcp.json` 파일을 통해 프로젝트의 모든 사람과 공유
>   * `user`: 모든 프로젝트에서 사용 가능
> * `--env` 플래그로 환경 변수를 설정합니다 (예: `--env KEY=value`)
> * `MCP_TIMEOUT` 환경 변수를 사용하여 MCP 서버 시작 타임아웃을 구성합니다
> * OAuth 2.0 인증이 필요한 원격 서버와 인증하려면 `/mcp` 사용

> **Windows 사용자**: 기본 Windows (WSL 아님)에서 `npx`를 사용하는 로컬 MCP 서버는 `cmd /c` 래퍼가 필요합니다:
> ```bash
> claude mcp add --transport stdio my-server -- cmd /c npx -y @some/package
> ```

## 플러그인 제공 MCP 서버

플러그인은 MCP 서버를 번들할 수 있어, 플러그인이 활성화될 때 자동으로 도구 및 통합을 제공합니다.

**플러그인 MCP 서버의 작동 방식**:

* 플러그인은 플러그인 루트의 `.mcp.json` 또는 `plugin.json`에 인라인으로 MCP 서버를 정의합니다
* 플러그인이 활성화되면 MCP 서버가 자동으로 시작됩니다
* 플러그인 MCP 도구는 수동으로 구성된 MCP 도구와 함께 표시됩니다
* 플러그인 서버는 플러그인 설치를 통해 관리됩니다 (`/mcp` 명령이 아님)

**플러그인 MCP 구성 예시**:

플러그인 루트의 `.mcp.json`에서:

```json
{
  "database-tools": {
    "command": "${CLAUDE_PLUGIN_ROOT}/servers/db-server",
    "args": ["--config", "${CLAUDE_PLUGIN_ROOT}/config.json"],
    "env": {
      "DB_URL": "${DB_URL}"
    }
  }
}
```

또는 `plugin.json`에 인라인으로:

```json
{
  "name": "my-plugin",
  "mcpServers": {
    "plugin-api": {
      "command": "${CLAUDE_PLUGIN_ROOT}/servers/api-server",
      "args": ["--port", "8080"]
    }
  }
}
```

## MCP 설치 범위

MCP 서버는 세 가지 범위 수준에서 구성할 수 있습니다:

### 로컬 범위

로컬 범위 서버는 기본 구성 수준을 나타내며 프로젝트 경로 아래 `~/.claude.json`에 저장됩니다. 이 서버는 비공개로 유지되며 현재 프로젝트 디렉토리 내에서 작업할 때만 접근 가능합니다.

```bash
# 로컬 범위 서버 추가 (기본값)
claude mcp add --transport http stripe https://mcp.stripe.com

# 명시적으로 로컬 범위 지정
claude mcp add --transport http stripe --scope local https://mcp.stripe.com
```

### 프로젝트 범위

프로젝트 범위 서버는 프로젝트 루트 디렉토리의 `.mcp.json` 파일에 구성을 저장하여 팀 협업을 가능하게 합니다. 이 파일은 버전 컨트롤에 체크인하도록 설계되었습니다.

```bash
# 프로젝트 범위 서버 추가
claude mcp add --transport http paypal --scope project https://mcp.paypal.com/mcp
```

결과 `.mcp.json` 파일:

```json
{
  "mcpServers": {
    "shared-server": {
      "command": "/path/to/server",
      "args": [],
      "env": {}
    }
  }
}
```

### 사용자 범위

사용자 범위 서버는 `~/.claude.json`에 저장되어 프로젝트 전체에 걸쳐 접근할 수 있습니다.

```bash
# 사용자 서버 추가
claude mcp add --transport http hubspot --scope user https://mcp.hubspot.com/anthropic
```

### 적절한 범위 선택

* **로컬 범위**: 개인 서버, 실험적 구성, 또는 한 프로젝트에 특화된 민감한 자격 증명
* **프로젝트 범위**: 팀 공유 서버, 프로젝트별 도구, 또는 협업에 필요한 서비스
* **사용자 범위**: 여러 프로젝트에서 필요한 개인 유틸리티

### 범위 계층 및 우선순위

동일한 이름의 서버가 여러 범위에 있는 경우, 시스템은 로컬 범위 서버를 먼저 우선하고, 그 다음 프로젝트 범위, 마지막으로 사용자 범위 서버로 충돌을 해결합니다.

### `.mcp.json`의 환경 변수 확장

Claude Code는 `.mcp.json` 파일에서 환경 변수 확장을 지원합니다:

**지원되는 구문:**

* `${VAR}` - 환경 변수 `VAR`의 값으로 확장
* `${VAR:-default}` - `VAR`이 설정된 경우 `VAR`로, 그렇지 않으면 `default` 사용

**변수 확장을 사용한 예시:**

```json
{
  "mcpServers": {
    "api-server": {
      "type": "http",
      "url": "${API_BASE_URL:-https://api.example.com}/mcp",
      "headers": {
        "Authorization": "Bearer ${API_KEY}"
      }
    }
  }
}
```

## 실용적인 예시

### 예시: Sentry로 오류 모니터링

```bash
# 1. Sentry MCP 서버 추가
claude mcp add --transport http sentry https://mcp.sentry.dev/mcp

# 2. Sentry 계정으로 인증하기 위해 /mcp 사용
> /mcp

# 3. 프로덕션 이슈 디버깅
> "What are the most common errors in the last 24 hours?"
> "Show me the stack trace for error ID abc123"
> "Which deployment introduced these new errors?"
```

### 예시: 코드 리뷰를 위한 GitHub 연결

```bash
# 1. GitHub MCP 서버 추가
claude mcp add --transport http github https://api.githubcopilot.com/mcp/

# 2. Claude Code에서 필요한 경우 인증
> /mcp

# 3. 이제 Claude에게 GitHub 작업을 요청할 수 있습니다
> "Review PR #456 and suggest improvements"
> "Create a new issue for the bug we just found"
> "Show me all open PRs assigned to me"
```

### 예시: PostgreSQL 데이터베이스 쿼리

```bash
# 1. 연결 문자열로 데이터베이스 서버 추가
claude mcp add --transport stdio db -- npx -y @bytebase/dbhub \
  --dsn "postgresql://readonly:pass@prod.db.com:5432/analytics"

# 2. 자연스럽게 데이터베이스 쿼리
> "What's our total revenue this month?"
> "Show me the schema for the orders table"
> "Find customers who haven't made a purchase in 90 days"
```

## 원격 MCP 서버로 인증

많은 클라우드 기반 MCP 서버에는 인증이 필요합니다. Claude Code는 안전한 연결을 위해 OAuth 2.0을 지원합니다.

**1단계: 인증이 필요한 서버 추가**

```bash
claude mcp add --transport http sentry https://mcp.sentry.dev/mcp
```

**2단계: Claude Code 내에서 /mcp 명령 사용**

```
> /mcp
```

그런 다음 브라우저의 단계를 따라 로그인하세요.

### 사전 구성된 OAuth 자격 증명 사용

일부 MCP 서버는 자동 OAuth 설정을 지원하지 않습니다. "Incompatible auth server: does not support dynamic client registration"이 표시되면 먼저 서버의 개발자 포털을 통해 OAuth 앱을 등록하세요.

```bash
claude mcp add --transport http \
  --client-id your-client-id --client-secret --callback-port 8080 \
  my-server https://mcp.example.com/mcp
```

## JSON 구성에서 MCP 서버 추가

MCP 서버에 대한 JSON 구성이 있는 경우 직접 추가할 수 있습니다:

```bash
# 기본 구문
claude mcp add-json <name> '<json>'

# 예시: JSON 구성으로 HTTP 서버 추가
claude mcp add-json weather-api '{"type":"http","url":"https://api.weather.com/mcp","headers":{"Authorization":"Bearer token"}}'

# 예시: JSON 구성으로 stdio 서버 추가
claude mcp add-json local-weather '{"type":"stdio","command":"/path/to/weather-cli","args":["--api-key","abc123"],"env":{"CACHE_DIR":"/tmp"}}'
```

## Claude Desktop에서 MCP 서버 가져오기

Claude Desktop에 이미 MCP 서버를 구성한 경우 가져올 수 있습니다:

```bash
# 기본 구문
claude mcp add-from-claude-desktop
```

명령 실행 후 가져올 서버를 선택할 수 있는 대화형 대화상자가 표시됩니다.

> * 이 기능은 macOS 및 Windows Subsystem for Linux (WSL)에서만 작동합니다
> * 가져온 서버는 Claude Desktop과 동일한 이름을 가집니다
> * 동일한 이름의 서버가 이미 존재하는 경우 숫자 접미사가 추가됩니다 (예: `server_1`)

## Claude.ai의 MCP 서버 사용

Claude.ai 계정으로 Claude Code에 로그인한 경우, Claude.ai에 추가한 MCP 서버가 Claude Code에서 자동으로 사용 가능합니다.

[claude.ai/settings/connectors](https://claude.ai/settings/connectors)에서 Claude.ai의 MCP 서버를 구성하세요. 그런 다음 Claude Code에서 `/mcp`를 사용하면 Claude.ai 서버를 포함한 모든 MCP 서버를 볼 수 있습니다.

## Claude Code를 MCP 서버로 사용

Claude Code 자체를 다른 애플리케이션이 연결할 수 있는 MCP 서버로 사용할 수 있습니다:

```bash
# Claude를 stdio MCP 서버로 시작
claude mcp serve
```

claude_desktop_config.json에 이 구성을 추가하여 Claude Desktop에서 사용할 수 있습니다:

```json
{
  "mcpServers": {
    "claude-code": {
      "type": "stdio",
      "command": "claude",
      "args": ["mcp", "serve"],
      "env": {}
    }
  }
}
```

## MCP 출력 제한 및 경고

MCP 도구가 대규모 출력을 생성하면 Claude Code가 토큰 사용량을 관리하는 데 도움을 줍니다:

* **출력 경고 임계값**: MCP 도구 출력이 10,000 토큰을 초과하면 Claude Code가 경고를 표시합니다
* **구성 가능한 제한**: `MAX_MCP_OUTPUT_TOKENS` 환경 변수를 사용하여 허용되는 최대 MCP 출력 토큰을 조정할 수 있습니다
* **기본 제한**: 기본 최대값은 25,000 토큰입니다

제한을 늘리려면:

```bash
# MCP 도구 출력에 대한 더 높은 제한 설정
export MAX_MCP_OUTPUT_TOKENS=50000
claude
```

## MCP 리소스 사용

MCP 서버는 @ 멘션을 사용하여 참조할 수 있는 리소스를 노출할 수 있습니다.

**사용 가능한 리소스 나열**: 프롬프트에서 `@`를 입력하면 연결된 모든 MCP 서버에서 사용 가능한 리소스를 볼 수 있습니다.

**특정 리소스 참조**:

```
> Can you analyze @github:issue://123 and suggest a fix?
```

```
> Please review the API documentation at @docs:file://api/authentication
```

**여러 리소스 참조**:

```
> Compare @postgres:schema://users with @docs:file://database/user-model
```

## MCP 도구 검색으로 확장

MCP 서버가 많이 구성된 경우, 도구 정의가 컨텍스트 창의 상당 부분을 소비할 수 있습니다. MCP 도구 검색은 도구를 주문형으로 동적으로 로드하여 이를 해결합니다.

### 작동 방식

Claude Code는 MCP 도구 설명이 컨텍스트 창의 10%를 초과하면 도구 검색을 자동으로 활성화합니다. 트리거되면:

1. MCP 도구가 미리 컨텍스트에 로드되지 않고 지연됩니다
2. Claude는 필요할 때 관련 MCP 도구를 검색하기 위해 검색 도구를 사용합니다
3. Claude가 실제로 필요한 도구만 컨텍스트에 로드됩니다

### 도구 검색 구성

`ENABLE_TOOL_SEARCH` 환경 변수로 도구 검색 동작을 제어합니다:

| 값 | 동작 |
| :--- | :--- |
| `auto` | MCP 도구가 컨텍스트의 10%를 초과하면 활성화 (기본값) |
| `auto:<N>` | 커스텀 임계값에서 활성화 (예: `auto:5`는 5%) |
| `true` | 항상 활성화 |
| `false` | 비활성화, 모든 MCP 도구가 미리 로드됨 |

```bash
# 커스텀 5% 임계값 사용
ENABLE_TOOL_SEARCH=auto:5 claude

# 도구 검색 완전히 비활성화
ENABLE_TOOL_SEARCH=false claude
```

## 명령으로 MCP 프롬프트 사용

MCP 서버는 Claude Code에서 명령으로 사용 가능한 프롬프트를 노출할 수 있습니다.

**인수 없이 프롬프트 실행**:

```
> /mcp__github__list_prs
```

**인수와 함께 프롬프트 실행**:

```
> /mcp__github__pr_review 456
```

```
> /mcp__jira__create_issue "Bug in login flow" high
```

## Managed MCP 구성

MCP 서버에 대한 중앙 집중식 제어가 필요한 조직의 경우, Claude Code는 두 가지 구성 옵션을 지원합니다:

### 옵션 1: managed-mcp.json을 사용한 독점적 제어

`managed-mcp.json` 파일을 배포하면 모든 MCP 서버에 대한 **독점적 제어**가 됩니다. 사용자는 이 파일에 정의된 것 외에 다른 MCP 서버를 추가, 수정 또는 사용할 수 없습니다.

시스템 관리자는 시스템 전체 디렉토리에 구성 파일을 배포합니다:

* macOS: `/Library/Application Support/ClaudeCode/managed-mcp.json`
* Linux 및 WSL: `/etc/claude-code/managed-mcp.json`
* Windows: `C:\Program Files\ClaudeCode\managed-mcp.json`

`managed-mcp.json` 파일은 표준 `.mcp.json` 파일과 동일한 형식을 사용합니다:

```json
{
  "mcpServers": {
    "github": {
      "type": "http",
      "url": "https://api.githubcopilot.com/mcp/"
    },
    "sentry": {
      "type": "http",
      "url": "https://mcp.sentry.dev/mcp"
    },
    "company-internal": {
      "type": "stdio",
      "command": "/usr/local/bin/company-mcp-server",
      "args": ["--config", "/etc/company/mcp-config.json"],
      "env": {
        "COMPANY_API_URL": "https://internal.company.com"
      }
    }
  }
}
```

### 옵션 2: 허용 목록 및 거부 목록을 사용한 정책 기반 제어

관리자는 Managed 설정 파일의 `allowedMcpServers` 및 `deniedMcpServers`를 사용하여 사용자가 자체 MCP 서버를 구성하도록 허용하면서 제한을 적용할 수 있습니다.

#### 제한 옵션

허용 목록 또는 거부 목록의 각 항목은 세 가지 방법으로 서버를 제한할 수 있습니다:

1. **서버 이름으로** (`serverName`): 서버의 구성된 이름과 일치
2. **명령으로** (`serverCommand`): stdio 서버를 시작하는 데 사용되는 정확한 명령 및 인수와 일치
3. **URL 패턴으로** (`serverUrl`): 와일드카드 지원이 있는 원격 서버 URL과 일치

#### 예시 구성

```json
{
  "allowedMcpServers": [
    { "serverName": "github" },
    { "serverName": "sentry" },
    { "serverCommand": ["npx", "-y", "@modelcontextprotocol/server-filesystem"] },
    { "serverUrl": "https://mcp.company.com/*" },
    { "serverUrl": "https://*.internal.corp/*" }
  ],
  "deniedMcpServers": [
    { "serverName": "dangerous-server" },
    { "serverUrl": "https://*.untrusted.com/*" }
  ]
}
```

#### 허용 목록 동작

* `undefined` (기본값): 제한 없음 - 사용자가 어떤 MCP 서버도 구성할 수 있음
* 빈 배열 `[]`: 완전 차단 - 사용자가 어떤 MCP 서버도 구성할 수 없음
* 항목 목록: 사용자는 이름, 명령 또는 URL 패턴으로 일치하는 서버만 구성할 수 있음

#### 거부 목록 동작

* `undefined` (기본값): 차단된 서버 없음
* 항목 목록: 지정된 서버가 모든 범위에서 명시적으로 차단됨

#### 중요 참고 사항

* **거부 목록이 절대적 우선순위를 가짐**: 서버가 거부 목록 항목과 일치하면 허용 목록에 있어도 차단됩니다
* `managed-mcp.json` 사용 시: 사용자는 `claude mcp add`를 통해 MCP 서버를 추가할 수 없습니다
