---
title: "Monitoring"
titleKo: "사용량 모니터링"
description: "Learn how to enable and configure OpenTelemetry for Claude Code."
descriptionKo: "Claude Code용 OpenTelemetry를 활성화하고 구성하는 방법을 알아봅니다."
category: "third-party"
sourceUrl: "https://code.claude.com/docs/en/monitoring-usage.md"
fetchedDate: "2026-02-19"
---

# Source: https://code.claude.com/docs/en/monitoring-usage.md

# 사용량 모니터링

> Claude Code용 OpenTelemetry를 활성화하고 구성하는 방법을 알아봅니다.

Claude Code는 모니터링 및 관측 가능성을 위한 OpenTelemetry (OTel) 지표 및 이벤트를 지원합니다.

모든 지표는 OpenTelemetry의 표준 지표 프로토콜을 통해 내보내지는 시계열 데이터이며, 이벤트는 OpenTelemetry의 로그/이벤트 프로토콜을 통해 내보내집니다. 지표 및 로그 백엔드가 올바르게 구성되어 있고 집계 세분성이 모니터링 요구 사항을 충족하는지 확인하는 것은 사용자의 책임입니다.

## 빠른 시작

환경 변수를 사용하여 OpenTelemetry를 구성하세요.

```bash
# 1. 원격 측정 활성화
export CLAUDE_CODE_ENABLE_TELEMETRY=1

# 2. 내보내기 도구 선택 (둘 다 선택 사항 - 필요한 것만 구성)
export OTEL_METRICS_EXPORTER=otlp       # 옵션: otlp, prometheus, console
export OTEL_LOGS_EXPORTER=otlp          # 옵션: otlp, console

# 3. OTLP 엔드포인트 구성 (OTLP 내보내기 도구의 경우)
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# 4. 인증 설정 (필요한 경우)
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer your-token"

# 5. 디버깅을 위해 내보내기 간격 줄이기
export OTEL_METRIC_EXPORT_INTERVAL=10000  # 10초 (기본값: 60000ms)
export OTEL_LOGS_EXPORT_INTERVAL=5000     # 5초 (기본값: 5000ms)

# 6. Claude Code 실행
claude
```

> 기본 내보내기 간격은 지표의 경우 60초, 로그의 경우 5초입니다. 설정 중에 디버깅을 위해 더 짧은 간격을 사용할 수 있습니다. 프로덕션 사용을 위해 이 값을 재설정하는 것을 잊지 마세요.

전체 구성 옵션은 [OpenTelemetry 사양](https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/exporter.md#configuration-options)을 참조하세요.

## 관리자 구성

관리자는 [관리 설정 파일](/en/settings#settings-files)을 통해 모든 사용자에 대한 OpenTelemetry 설정을 구성할 수 있습니다. 이를 통해 조직 전반의 원격 측정 설정을 중앙 집중식으로 제어할 수 있습니다. 설정 적용 방법에 대한 자세한 내용은 [설정 우선순위](/en/settings#settings-precedence)를 참조하세요.

관리 설정 구성 예시:

```json
{
  "env": {
    "CLAUDE_CODE_ENABLE_TELEMETRY": "1",
    "OTEL_METRICS_EXPORTER": "otlp",
    "OTEL_LOGS_EXPORTER": "otlp",
    "OTEL_EXPORTER_OTLP_PROTOCOL": "grpc",
    "OTEL_EXPORTER_OTLP_ENDPOINT": "http://collector.company.com:4317",
    "OTEL_EXPORTER_OTLP_HEADERS": "Authorization=Bearer company-token"
  }
}
```

> 관리 설정은 MDM(Mobile Device Management) 또는 기타 기기 관리 솔루션을 통해 배포할 수 있습니다. 관리 설정 파일에 정의된 환경 변수는 높은 우선순위를 가지며 사용자가 재정의할 수 없습니다.

## 구성 세부 정보

### 공통 구성 변수

| 환경 변수 | 설명 | 예시 값 |
|---------------------|-------------|----------------|
| `CLAUDE_CODE_ENABLE_TELEMETRY` | 원격 측정 수집 활성화 (필수) | `1` |
| `OTEL_METRICS_EXPORTER` | 지표 내보내기 도구 유형 (쉼표로 구분) | `console`, `otlp`, `prometheus` |
| `OTEL_LOGS_EXPORTER` | 로그/이벤트 내보내기 도구 유형 (쉼표로 구분) | `console`, `otlp` |
| `OTEL_EXPORTER_OTLP_PROTOCOL` | OTLP 내보내기 도구의 프로토콜 (모든 신호) | `grpc`, `http/json`, `http/protobuf` |
| `OTEL_EXPORTER_OTLP_ENDPOINT` | OTLP 수집기 엔드포인트 (모든 신호) | `http://localhost:4317` |
| `OTEL_EXPORTER_OTLP_METRICS_PROTOCOL` | 지표 프로토콜 (일반 재정의) | `grpc`, `http/json`, `http/protobuf` |
| `OTEL_EXPORTER_OTLP_METRICS_ENDPOINT` | OTLP 지표 엔드포인트 (일반 재정의) | `http://localhost:4318/v1/metrics` |
| `OTEL_EXPORTER_OTLP_LOGS_PROTOCOL` | 로그 프로토콜 (일반 재정의) | `grpc`, `http/json`, `http/protobuf` |
| `OTEL_EXPORTER_OTLP_LOGS_ENDPOINT` | OTLP 로그 엔드포인트 (일반 재정의) | `http://localhost:4318/v1/logs` |
| `OTEL_EXPORTER_OTLP_HEADERS` | OTLP용 인증 헤더 | `Authorization=Bearer token` |
| `OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY` | mTLS 인증용 클라이언트 키 | 클라이언트 키 파일 경로 |
| `OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE` | mTLS 인증용 클라이언트 인증서 | 클라이언트 인증서 파일 경로 |
| `OTEL_METRIC_EXPORT_INTERVAL` | 밀리초 단위 내보내기 간격 (기본값: 60000) | `5000`, `60000` |
| `OTEL_LOGS_EXPORT_INTERVAL` | 밀리초 단위 로그 내보내기 간격 (기본값: 5000) | `1000`, `10000` |
| `OTEL_LOG_USER_PROMPTS` | 사용자 프롬프트 내용 로깅 활성화 (기본값: 비활성화) | `1`로 활성화 |
| `OTEL_LOG_TOOL_DETAILS` | 도구 이벤트에서 MCP 서버/도구 이름 및 스킬 이름 로깅 활성화 (기본값: 비활성화) | `1`로 활성화 |
| `CLAUDE_CODE_OTEL_HEADERS_HELPER_DEBOUNCE_MS` | 동적 헤더 갱신 간격 (기본값: 1740000ms / 29분) | `900000` |

### 지표 카디널리티 제어

다음 환경 변수는 카디널리티를 관리하기 위해 지표에 포함되는 속성을 제어합니다.

| 환경 변수 | 설명 | 기본값 | 비활성화 예시 |
|---------------------|-------------|---------------|-------------------|
| `OTEL_METRICS_INCLUDE_SESSION_ID` | 지표에 session.id 속성 포함 | `true` | `false` |
| `OTEL_METRICS_INCLUDE_VERSION` | 지표에 app.version 속성 포함 | `false` | `true` |
| `OTEL_METRICS_INCLUDE_ACCOUNT_UUID` | 지표에 user.account_uuid 속성 포함 | `true` | `false` |

이러한 변수는 지표 카디널리티를 제어하는 데 도움이 되며, 이는 지표 백엔드의 저장 요구 사항과 쿼리 성능에 영향을 미칩니다. 일반적으로 카디널리티가 낮을수록 성능은 좋아지고 저장 비용은 낮아지지만 분석을 위한 데이터의 세분성은 줄어듭니다.

### 동적 헤더

동적 인증이 필요한 엔터프라이즈 환경의 경우 헤더를 동적으로 생성하는 스크립트를 구성할 수 있습니다.

#### 설정 구성

`.claude/settings.json`에 추가:

```json
{
  "otelHeadersHelper": "/bin/generate_opentelemetry_headers.sh"
}
```

#### 스크립트 요구 사항

스크립트는 HTTP 헤더를 나타내는 문자열 키-값 쌍이 있는 유효한 JSON을 출력해야 합니다.

```bash
#!/bin/bash
# 예시: 여러 헤더
echo "{\"Authorization\": \"Bearer $(get-token.sh)\", \"X-API-Key\": \"$(get-api-key.sh)\"}"
```

#### 갱신 동작

헤더 도우미 스크립트는 시작 시 실행되고 토큰 갱신을 지원하기 위해 주기적으로 실행됩니다. 기본적으로 스크립트는 29분마다 실행됩니다. `CLAUDE_CODE_OTEL_HEADERS_HELPER_DEBOUNCE_MS` 환경 변수로 간격을 사용자 지정하세요.

### 다중 팀 조직 지원

여러 팀이나 부서가 있는 조직은 `OTEL_RESOURCE_ATTRIBUTES` 환경 변수를 사용하여 서로 다른 그룹을 구분하는 사용자 지정 속성을 추가할 수 있습니다.

```bash
# 팀 식별을 위한 사용자 지정 속성 추가
export OTEL_RESOURCE_ATTRIBUTES="department=engineering,team.id=platform,cost_center=eng-123"
```

이러한 사용자 지정 속성은 모든 지표와 이벤트에 포함되어 다음을 수행할 수 있습니다.

* 팀 또는 부서별 지표 필터링
* 비용 센터별 비용 추적
* 팀별 대시보드 생성
* 특정 팀에 대한 알림 설정

> **OTEL_RESOURCE_ATTRIBUTES의 중요한 형식 요구 사항:**
>
> `OTEL_RESOURCE_ATTRIBUTES` 환경 변수는 엄격한 형식 요구 사항이 있는 [W3C Baggage 사양](https://www.w3.org/TR/baggage/)을 따릅니다.
>
> * **공백 불가**: 값에 공백을 포함할 수 없습니다. 예를 들어 `user.organizationName=My Company`는 유효하지 않습니다.
> * **형식**: 쉼표로 구분된 키=값 쌍이어야 합니다: `key1=value1,key2=value2`
> * **허용 문자**: 제어 문자, 공백, 큰따옴표, 쉼표, 세미콜론 및 백슬래시를 제외한 US-ASCII 문자만 허용
> * **특수 문자**: 허용 범위 밖의 문자는 퍼센트 인코딩이 필요
>
> 예시:
>
> ```bash
> # 유효하지 않음 - 공백 포함
> export OTEL_RESOURCE_ATTRIBUTES="org.name=John's Organization"
>
> # 유효함 - 밑줄 또는 camelCase 사용
> export OTEL_RESOURCE_ATTRIBUTES="org.name=Johns_Organization"
> export OTEL_RESOURCE_ATTRIBUTES="org.name=JohnsOrganization"
>
> # 유효함 - 필요한 경우 특수 문자를 퍼센트 인코딩
> export OTEL_RESOURCE_ATTRIBUTES="org.name=John%27s%20Organization"
> ```

### 구성 예시

```bash
# 콘솔 디버깅 (1초 간격)
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=console
export OTEL_METRIC_EXPORT_INTERVAL=1000

# OTLP/gRPC
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Prometheus
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=prometheus

# 여러 내보내기 도구
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=console,otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=http/json

# 지표와 로그에 대한 서로 다른 엔드포인트/백엔드
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=otlp
export OTEL_LOGS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_METRICS_PROTOCOL=http/protobuf
export OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://metrics.company.com:4318
export OTEL_EXPORTER_OTLP_LOGS_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_LOGS_ENDPOINT=http://logs.company.com:4317

# 지표만 (이벤트/로그 없음)
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_METRICS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# 이벤트/로그만 (지표 없음)
export CLAUDE_CODE_ENABLE_TELEMETRY=1
export OTEL_LOGS_EXPORTER=otlp
export OTEL_EXPORTER_OTLP_PROTOCOL=grpc
export OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
```

## 사용 가능한 지표 및 이벤트

### 표준 속성

모든 지표와 이벤트는 다음 표준 속성을 공유합니다.

| 속성 | 설명 | 제어 방법 |
|-----------|-------------|---------------|
| `session.id` | 고유 세션 식별자 | `OTEL_METRICS_INCLUDE_SESSION_ID` (기본값: true) |
| `app.version` | 현재 Claude Code 버전 | `OTEL_METRICS_INCLUDE_VERSION` (기본값: false) |
| `organization.id` | 조직 UUID (인증 시) | 사용 가능한 경우 항상 포함 |
| `user.account_uuid` | 계정 UUID (인증 시) | `OTEL_METRICS_INCLUDE_ACCOUNT_UUID` (기본값: true) |
| `terminal.type` | 터미널 유형 (예: `iTerm.app`, `vscode`, `cursor`, `tmux`) | 감지 시 항상 포함 |

### 지표

Claude Code는 다음 지표를 내보냅니다.

| 지표 이름 | 설명 | 단위 |
|-------------|-------------|------|
| `claude_code.session.count` | 시작된 CLI 세션 수 | count |
| `claude_code.lines_of_code.count` | 수정된 코드 줄 수 | count |
| `claude_code.pull_request.count` | 생성된 풀 리퀘스트 수 | count |
| `claude_code.commit.count` | 생성된 git 커밋 수 | count |
| `claude_code.cost.usage` | Claude Code 세션 비용 | USD |
| `claude_code.token.usage` | 사용된 토큰 수 | tokens |
| `claude_code.code_edit_tool.decision` | 코드 편집 도구 권한 결정 수 | count |
| `claude_code.active_time.total` | 총 활성 시간 (초) | s |

### 지표 세부 정보

#### 세션 카운터

각 세션 시작 시 증가합니다.

**속성**: 모든 표준 속성

#### 코드 줄 카운터

코드가 추가되거나 제거될 때 증가합니다.

**속성**:
* 모든 표준 속성
* `type`: (`"added"`, `"removed"`)

#### 풀 리퀘스트 카운터

Claude Code를 통해 풀 리퀘스트를 생성할 때 증가합니다.

**속성**: 모든 표준 속성

#### 커밋 카운터

Claude Code를 통해 git 커밋을 생성할 때 증가합니다.

**속성**: 모든 표준 속성

#### 비용 카운터

각 API 요청 후 증가합니다.

**속성**:
* 모든 표준 속성
* `model`: 모델 식별자 (예: "claude-sonnet-4-6")

#### 토큰 카운터

각 API 요청 후 증가합니다.

**속성**:
* 모든 표준 속성
* `type`: (`"input"`, `"output"`, `"cacheRead"`, `"cacheCreation"`)
* `model`: 모델 식별자 (예: "claude-sonnet-4-6")

#### 코드 편집 도구 결정 카운터

사용자가 Edit, Write 또는 NotebookEdit 도구 사용을 수락하거나 거부할 때 증가합니다.

**속성**:
* 모든 표준 속성
* `tool`: 도구 이름 (`"Edit"`, `"Write"`, `"NotebookEdit"`)
* `decision`: 사용자 결정 (`"accept"`, `"reject"`)
* `language`: 편집된 파일의 프로그래밍 언어 (예: `"TypeScript"`, `"Python"`, `"JavaScript"`, `"Markdown"`). 인식되지 않는 파일 확장자의 경우 `"unknown"` 반환.

#### 활성 시간 카운터

Claude Code를 활발하게 사용하는 실제 시간을 추적합니다 (유휴 시간 제외). 이 지표는 프롬프트 입력 또는 응답 수신과 같은 사용자 상호 작용 중에 증가합니다.

**속성**: 모든 표준 속성

### 이벤트

Claude Code는 `OTEL_LOGS_EXPORTER`가 구성된 경우 OpenTelemetry 로그/이벤트를 통해 다음 이벤트를 내보냅니다.

#### 사용자 프롬프트 이벤트

사용자가 프롬프트를 제출할 때 기록됩니다.

**이벤트 이름**: `claude_code.user_prompt`

**속성**:
* 모든 표준 속성
* `event.name`: `"user_prompt"`
* `event.timestamp`: ISO 8601 타임스탬프
* `event.sequence`: 세션 내 이벤트 순서를 위한 단조 증가 카운터
* `prompt_length`: 프롬프트 길이
* `prompt`: 프롬프트 내용 (기본값으로 편집됨, `OTEL_LOG_USER_PROMPTS=1`로 활성화)

#### 도구 결과 이벤트

도구 실행이 완료될 때 기록됩니다.

**이벤트 이름**: `claude_code.tool_result`

**속성**:
* 모든 표준 속성
* `event.name`: `"tool_result"`
* `event.timestamp`: ISO 8601 타임스탬프
* `event.sequence`: 세션 내 이벤트 순서를 위한 단조 증가 카운터
* `tool_name`: 도구 이름
* `success`: `"true"` 또는 `"false"`
* `duration_ms`: 밀리초 단위 실행 시간
* `error`: 오류 메시지 (실패 시)
* `decision`: `"accept"` 또는 `"reject"`
* `source`: 결정 소스 - `"config"`, `"user_permanent"`, `"user_temporary"`, `"user_abort"`, 또는 `"user_reject"`
* `tool_parameters`: 도구별 파라미터가 포함된 JSON 문자열 (사용 가능한 경우)
  * Bash 도구의 경우: `bash_command`, `full_command`, `timeout`, `description`, `sandbox` 포함
  * MCP 도구의 경우 (`OTEL_LOG_TOOL_DETAILS=1`일 때): `mcp_server_name`, `mcp_tool_name` 포함
  * Skill 도구의 경우 (`OTEL_LOG_TOOL_DETAILS=1`일 때): `skill_name` 포함

#### API 요청 이벤트

Claude에 대한 각 API 요청에 대해 기록됩니다.

**이벤트 이름**: `claude_code.api_request`

**속성**:
* 모든 표준 속성
* `event.name`: `"api_request"`
* `event.timestamp`: ISO 8601 타임스탬프
* `event.sequence`: 세션 내 이벤트 순서를 위한 단조 증가 카운터
* `model`: 사용된 모델 (예: "claude-sonnet-4-6")
* `cost_usd`: 달러 단위 예상 비용
* `duration_ms`: 밀리초 단위 요청 지속 시간
* `input_tokens`: 입력 토큰 수
* `output_tokens`: 출력 토큰 수
* `cache_read_tokens`: 캐시에서 읽은 토큰 수
* `cache_creation_tokens`: 캐시 생성에 사용된 토큰 수

#### API 오류 이벤트

Claude에 대한 API 요청이 실패할 때 기록됩니다.

**이벤트 이름**: `claude_code.api_error`

**속성**:
* 모든 표준 속성
* `event.name`: `"api_error"`
* `event.timestamp`: ISO 8601 타임스탬프
* `event.sequence`: 세션 내 이벤트 순서를 위한 단조 증가 카운터
* `model`: 사용된 모델 (예: "claude-sonnet-4-6")
* `error`: 오류 메시지
* `status_code`: HTTP 상태 코드 (해당하는 경우)
* `duration_ms`: 밀리초 단위 요청 지속 시간
* `attempt`: 시도 번호 (재시도된 요청의 경우)

#### 도구 결정 이벤트

도구 권한 결정(수락/거부)이 이루어질 때 기록됩니다.

**이벤트 이름**: `claude_code.tool_decision`

**속성**:
* 모든 표준 속성
* `event.name`: `"tool_decision"`
* `event.timestamp`: ISO 8601 타임스탬프
* `event.sequence`: 세션 내 이벤트 순서를 위한 단조 증가 카운터
* `tool_name`: 도구 이름 (예: "Read", "Edit", "Write", "NotebookEdit")
* `decision`: `"accept"` 또는 `"reject"`
* `source`: 결정 소스 - `"config"`, `"user_permanent"`, `"user_temporary"`, `"user_abort"`, 또는 `"user_reject"`

## 지표 및 이벤트 데이터 해석

Claude Code가 내보내는 지표는 사용 패턴과 생산성에 대한 귀중한 인사이트를 제공합니다. 생성할 수 있는 일반적인 시각화 및 분석은 다음과 같습니다.

### 사용 모니터링

| 지표 | 분석 기회 |
|--------|---------------------|
| `claude_code.token.usage` | `type` (입력/출력), 사용자, 팀 또는 모델별 분류 |
| `claude_code.session.count` | 시간 경과에 따른 도입 및 참여 추적 |
| `claude_code.lines_of_code.count` | 코드 추가/제거를 추적하여 생산성 측정 |
| `claude_code.commit.count` & `claude_code.pull_request.count` | 개발 워크플로우에 대한 영향 파악 |

### 비용 모니터링

`claude_code.cost.usage` 지표는 다음에 도움이 됩니다.

* 팀 또는 개인별 사용 추세 추적
* 최적화를 위한 고사용 세션 식별

> 비용 지표는 추정치입니다. 공식 청구 데이터는 API 공급자(Claude Console, AWS Bedrock 또는 Google Cloud Vertex)를 참조하세요.

### 알림 및 세분화

고려할 일반적인 알림:

* 비용 급증
* 비정상적인 토큰 사용
* 특정 사용자의 높은 세션 볼륨

모든 지표는 `user.account_uuid`, `organization.id`, `session.id`, `model`, `app.version`으로 세분화할 수 있습니다.

### 이벤트 분석

이벤트 데이터는 Claude Code 상호 작용에 대한 자세한 인사이트를 제공합니다.

**도구 사용 패턴**: 도구 결과 이벤트를 분석하여 다음을 파악합니다.

* 가장 자주 사용되는 도구
* 도구 성공률
* 평균 도구 실행 시간
* 도구 유형별 오류 패턴

**성능 모니터링**: API 요청 지속 시간과 도구 실행 시간을 추적하여 성능 병목을 파악합니다.

## 백엔드 고려 사항

지표 및 로그 백엔드의 선택에 따라 수행할 수 있는 분석 유형이 결정됩니다.

### 지표의 경우

* **시계열 데이터베이스 (예: Prometheus)**: 속도 계산, 집계 지표
* **컬럼형 저장소 (예: ClickHouse)**: 복잡한 쿼리, 고유 사용자 분석
* **완전 기능의 관측 가능성 플랫폼 (예: Honeycomb, Datadog)**: 고급 쿼리, 시각화, 알림

### 이벤트/로그의 경우

* **로그 집계 시스템 (예: Elasticsearch, Loki)**: 전문 검색, 로그 분석
* **컬럼형 저장소 (예: ClickHouse)**: 구조화된 이벤트 분석
* **완전 기능의 관측 가능성 플랫폼 (예: Honeycomb, Datadog)**: 지표와 이벤트 간의 상관 관계

일별/주별/월별 활성 사용자(DAU/WAU/MAU) 지표가 필요한 조직은 효율적인 고유 값 쿼리를 지원하는 백엔드를 고려하세요.

## 서비스 정보

모든 지표와 이벤트는 다음 리소스 속성으로 내보내집니다.

* `service.name`: `claude-code`
* `service.version`: 현재 Claude Code 버전
* `os.type`: 운영 체제 유형 (예: `linux`, `darwin`, `windows`)
* `os.version`: 운영 체제 버전 문자열
* `host.arch`: 호스트 아키텍처 (예: `amd64`, `arm64`)
* `wsl.version`: WSL 버전 번호 (Windows Subsystem for Linux에서 실행 시에만 존재)
* 미터 이름: `com.anthropic.claude_code`

## ROI 측정 리소스

원격 측정 설정, 비용 분석, 생산성 지표, 자동화된 보고를 포함하여 Claude Code의 투자 수익률 측정에 대한 포괄적인 가이드는 [Claude Code ROI 측정 가이드](https://github.com/anthropics/claude-code-monitoring-guide)를 참조하세요. 이 저장소는 사용 가능한 Docker Compose 구성, Prometheus 및 OpenTelemetry 설정, Linear와 같은 도구와 통합된 생산성 보고서 생성 템플릿을 제공합니다.

## 보안/개인 정보 고려 사항

* 원격 측정은 옵트인이며 명시적인 구성이 필요합니다.
* API 키나 파일 내용과 같은 민감한 정보는 지표나 이벤트에 포함되지 않습니다.
* 사용자 프롬프트 내용은 기본값으로 편집되며 프롬프트 길이만 기록됩니다. 사용자 프롬프트 로깅을 활성화하려면 `OTEL_LOG_USER_PROMPTS=1`을 설정하세요.
* MCP 서버/도구 이름 및 스킬 이름은 사용자별 구성을 드러낼 수 있으므로 기본값으로 기록되지 않습니다. 활성화하려면 `OTEL_LOG_TOOL_DETAILS=1`을 설정하세요.

## Amazon Bedrock에서 Claude Code 모니터링

Amazon Bedrock에 대한 자세한 Claude Code 사용 모니터링 지침은 [Claude Code 모니터링 구현 (Bedrock)](https://github.com/aws-solutions-library-samples/guidance-for-claude-code-with-amazon-bedrock/blob/main/assets/docs/MONITORING.md)을 참조하세요.
